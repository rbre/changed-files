name: GitHub Actions Demo
on: pull_request
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - name: Get all changed files
        run: |
          URL="https://api.github.com/repos/${{ github.repository }}/pulls/${{ github.event.number }}/files"
          echo "URL: $URL"
          FILES=$(curl -s -X GET -H "Authorization: Bearer ${{ secrets.GITHUB_TOKEN }}" $URL | jq -r '.[] | .filename')
          echo "$FILES"
